{% extends 'base.html' %}
{% load static %}
{% block title %}Productos{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/productosStyles.css' %}">
{% endblock %}

{% block content %}

<h1>Productos disponibles</h1>

<div class="acciones_superiores">
    <a href="{% url 'productos:crear' %}" class="btn_agregar">+ Agregar nuevo producto</a>
</div>

{% for categoria, productos in productos_por_categoria.items %}
    <section class="categoria">
        <h2>{{categoria}}</h2>
        <div class="contenedor_cards">
            {% for producto in productos %}
            <div class="card_producto">
                {% if producto.imagen %}
                    <img src="{{producto.imagen.url}}" alt="{{producto.nombre}}">
                {% else %}
                    <img src="{% static 'img/garden.jpg' %}" alt="sin imagen">
                {% endif %}
                <div class="texto_card">
                    <h3>{{producto.nombre}}</h3>
                    <p>{{producto.descripcion|truncatewords:15}}</p>
                    <p><strong>Precio:</strong> ${{producto.precio}}</p>
                    <a href="#" class="btn_ver_mas"></a>
                </div>
                <div class="acciones_card">
                    <a href="#" class="btn_editar">Editar</a>
                    <a href="#" class="btn_eliminar" onclick="return confirm('¿Seguro que quieres eliminar este producto?')">Eliminar</a>
                </div>
            </div>
            {% empty %}
                <p>No hay productos en esta categoría.</p>
            {% endfor %}
        </div>
    </section>
{% endfor %}
{% endblock %}